<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>new/s/leak </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.55.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="../dist/css/app.955516233bcafa4d2a1c13cea63c7b50.css" rel="stylesheet">
    

    

    
      
    

    

    <meta property="og:title" content="" />
<meta property="og:description" content="Installation instructions for new/s/leak" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://uhh-lt.github.io/newsleak/install/" />


<meta itemprop="name" content="">
<meta itemprop="description" content="Installation instructions for new/s/leak">



<meta itemprop="wordCount" content="886">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Installation instructions for new/s/leak"/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="bg-near-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://uhh-lt.github.io/newsleak/" class="f3 fw2 hover-white no-underline white-90 dib">
      new/s/leak
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../news/" title="News page">
              News
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../documentation/" title="Documentation page">
              Documentation
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../demo/" title="Demo page">
              Demo
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="../team/" title="Team page">
              Team
            </a>
          </li>
          
        </ul>
      
      







<a href="https://github.com/uhh-lt/newsleak" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>





    </div>
  </div>
</nav>

    </div>
  </header>


    <main class="pb7" role="main">
      
  <div class="flex-l mt2 mw8 center">
    <article class="center cf pv5 ph3 ph4-ns mw7">
      <header>
        <p class="f6 b helvetica tracked">
          
        </p>
        <h1 class="f1">
          
        </h1>
      </header>
      <div class="nested-copy-line-height lh-copy f4 nested-links nested-img mid-gray">
        

<h1 id="installation">Installation</h1>

<p>new/s/leak is free, open-source, and deployed as a bundle of <a href="https://www.docker.com/">docker</a> containers orchestrated by <a href="https://docs.docker.com/compose/">docker-compose</a>.</p>

<p>The software requires a docker compatible operating system (Linux, Mac OSX, or Windows 10 64bit Pro, Enterprise or Education), at least 8 GB of RAM, and 3 GB of disk space. Also: the more CPU cores, the faster the indexing, information extraction, and visualization will run.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To install new/s/leak, you first need two other compontents:</p>

<ol>
<li><a href="https://docs.docker.com/">Docker</a>: a computer program that performs easy virtualization to run software packages called containers (<a href="https://docs.docker.com/install/">installation instructions</a>).</li>
<li><a href="https://hoover.github.io">Hoover</a>: a docker-based collection of tools to automatically extract raw texts from multiple file formats (<a href="https://hoover.readthedocs.io">installation instructions</a>).</li>
</ol>

<p>Please, follow the installation instructions above, to install the two components.</p>

<h2 id="install-newsleak">Install newsleak</h2>

<p>Checkout the newsleak-docker Github repository.</p>

<pre><code>git clone https://github.com/uhh-lt/newsleak-docker.git
cd newsleak-docker
</code></pre>

<h3 id="docker-configuration">Docker configuration</h3>

<p><em>Database:</em> You may want to edit the <code>postgres.env</code> file to configure your own database password.</p>

<pre><code>nano postgres.env
</code></pre>

<p><em>Docker network:</em>  Newsleak needs to access the Hoover docker containers in the same virtual network. Thus change the network prefix of newsleak <code>hoover_default</code> to whatever your hoover network name is join the hoover network in the file <code>docker-compose.yml</code>.</p>

<p>The network name is usually derived from the directory your Hoover docker-setup resides in. If you followed the Hoover installation instruction on their website, your network name is probably <code>dockersetup_default</code>.</p>

<pre><code>nano docker-compose.yml
</code></pre>

<p>Start the newsleak containers.</p>

<pre><code>docker-compose up -d
</code></pre>

<h3 id="data-import">Data import</h3>

<p>Newsleak is closely integrated with <a href="https://hoover.github.io">Hoover</a>, a software suite to extract texts from large collections of documents. We assume that you already have an instance of Hoover running on your machine which has imported the collection <code>testcollection</code>.</p>

<p>To setup Hoover and extract texts from your collection, please follow the instructions on this page: <a href="https://hoover.readthedocs.io/en/latest/installation/">Hoover Docker Setup</a>.</p>

<p>Once Hoover is up and running, edit <code>volumes/ui/conf/newsleak.properties</code> to configure the newsleak pre-processing pipeline. Open the file with your favorite text editor, e.g. nano.</p>

<pre><code>nano volumes/ui/conf/newsleak.properties
</code></pre>

<p>You may use the example data or copy your own data files into the <code>volumes/ui</code> folder and point to them in the properties file.</p>

<p><em>Caution:</em> If you changed the db password in the previous step, change it in the properties file, too (dbuser, dbpass).</p>

<h3 id="preprocessing-configuration-options">Preprocessing configuration options</h3>

<p><code>hooverindex</code> - Set the hoover collection which you want to import into newsleak</p>

<p><code>processlanguages</code> - To select which languages newsleak should process, set this option to a list of <a href="https://en.wikipedia.org/wiki/ISO_639-3">ISO 639-3 codes</a> in the properties file. Also, set a default language to the lanaguage you expect to dominate the collection.</p>

<p><code>paragraphsasdocuments</code> - For very long documents, newsleak can split texts into paragraphs of a certain minimum length. To enable splitting of document texts set this option to <code>true</code>.</p>

<p><code>dictionaryfiles</code> - You also can use <strong>additional dictionaries</strong> to annotate your texts. Place dictionary text files (format: one term per line) into <code>volumes/ui/conf/dictionaries</code>. The dictionary category label will be inferred from the dictionary textfile name, e.g. <code>fck.eng</code> containing a list of English swear words, one per line, can be used to annotate occurrence of those swear words with the label FCK.</p>

<h3 id="run-preprocessing">Run preprocessing</h3>

<p>Run preprocessing for information extraction in the <code>newsleak</code> container (you may choose a different name by changing the <code>docker-compose.yml</code> file, e.g. in case you want to run separate instances of newsleak in parallel).</p>

<pre><code>docker exec -it newsleak sh -c &quot;cd /opt/newsleak &amp;&amp; java -Xmx10g -jar preprocessing.jar -c /etc/settings/conf/newsleak.properties&quot;
</code></pre>

<p>Open the UI application in your browser</p>

<pre><code>http://localhost:9000
</code></pre>

<p>Login into the browser application with the credentials <code>user</code> and <code>password</code>.</p>

<p>To set your own credentials, edit the file <code>volumes/ui/conf/application.production.conf</code> and restart the newsleak container with <code>docker restart newsleak</code> to load the updated configuration.</p>

<h2 id="security">Security</h2>

<h3 id="minimum-setup">Minimum setup</h3>

<p>Basic security settings for the newsleak UI can be setup in the file <code>volumes/ui/conf/application.production.conf</code>:</p>

<ol>
<li>Set custom user credentials for basic user authentication</li>
<li>Set a custom secret key for the Play application framework</li>
<li>Set custom passwords for the newsleak postgres database (<code>postgres.env</code>, <code>volumes/ui/conf/newsleak.properties</code>, <code>volumes/ui/conf/application.production.conf</code>)</li>
<li>Put everything behind a SSL proxy which only forwards to <a href="http://localhost:9000">http://localhost:9000</a>, if you want to enable access via the internet</li>
</ol>

<h3 id="more-secure-setup">More secure setup</h3>

<p>For confidential data, newsleak is supposed to run on a local system or network <strong>without any internet connection</strong>. We strongly advise for the following proceeding:</p>

<p>With internet connection:</p>

<ol>
<li>Install the Hoover docker setup  and import the Hoover test collection.</li>
<li>Install the Newsleak docker setup and import the testcollection extracted by Hoover.</li>
<li>If everything works fine, disconnect form the internet.</li>
</ol>

<p>Without internet connection:</p>

<ol>
<li>Copy your sensitive dataset to the Hoover collection directory.</li>
<li>Import it your as a new Hoover collection.</li>
<li>Import the new Hoover collection into Newsleak.</li>
<li>Set credentials for the newsleak app.</li>
<li>Now you are fine analyzing your content.</li>
</ol>

<h2 id="troubleshooting">Troubleshooting</h2>

<ol>
<li>Not enough RAM: Preprocessing will be slow or even abort, if your Docker setup has not enough memory. Allow to use at least 8 GB.</li>
<li>Different docker container names: docker-compose will use the directory name containing <code>docker-compose.yml</code> as a prefix for orchestrated containers (some special characters such as dashes are removed from the directory name beforehand). If you have placed it in a directory other than <code>newsleak-docker</code>, <code>mynewsleak</code> for instance, you need to change the commands above accordingly.</li>
<li>Different docker network name: The newsleak docker containers need to share a virtual network with the Hoover containers. This is configured in the <code>docker-compose.yml</code> of newsleak. If your Hoover resides in a directory other tahn <code>hoover</code>, e.g. <code>hoover2</code>, then change the network name from <code>hoover_default</code> to <code>hoover2_default</code> and restart the containers <code>docker-compose restart</code></li>
</ol>

      </div>
    </article>
  </div>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://uhh-lt.github.io/newsleak/" >
    &copy; 2019 new/s/leak
  </a>
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="../impressum/" >
  	Impressum
  </a>
    <div>







<a href="https://github.com/uhh-lt/newsleak" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




</div>
  </div>
</footer>

    

  <script src="../dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
